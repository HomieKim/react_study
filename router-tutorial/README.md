# 12장

* 13.1 SPA란?
    - Single Page Application의 약자로 한 개의 페이지로 이루어진 애플리케이션이라는 의미 입니다.
    - 전통적인 웹 페이지는 여러 페이지로 구성되어 있습니다.
    - 기존 웹 방식은 다른 페이지로 이동할 때마다 새로운 html을 받아오고, 페이지를 로딩할 때마다 서버에서 리소스를 전달받아 화면에 보여 줌
    - 최근에는 웹에서 제공되는 정보가 많기 때문에 새로운 화면을 보여주어야 할 때마다 서버에서 모든 뷰를 준비한다면 성능상의 문제가 발생할 수 있습니다.
    - 리액트 같은 라이브러리 혹은 프레임워크를 사용하여 뷰 렌더링을 사용자의 브라우저가 담당하도록 하고, 사용자와의 인터랙션이 발생하면 필요한 부분만 자바스크립트를 사용하여 업데이트 해줍니다.
    - 만약 새로운 데이터가 필요하다면 서버 api를 호출하여 데이터만 새로 불러와 사용할 수도 있습니다.
    - SPA의 경우 서버에서 사용자에게 제공하는 페이지는 한 종류이지만, 해당 페이지에서 로딩된 자바스크립트와 현재 사용자 브라우저의 주소 상태에 따라 다양한 화면을 보여줄 수 있습니다.
    - 다른 주소에 따라 다른 화면을 보여주는 것을 "라우팅" 이라고 합니다.

* 13.1.1 SPA의 단점
    - 앱의 규모가 커지면 자바스크립트 파일이 너무 커진다는 것이 단점 입니다.
    - 코드 스플리팅을 이용해 라우트별로 파일들을 나누어 트래팩과 로딩속도를 개선할 수 있습니다.
    - 라우팅 라이브러리의 종류는 많음, 그 중에서 실습할 것은 "리액트 라우터"
    - 리액트 라우터는 브라우저에서 자바스크립트를 이용해 라우팅을 관리 이러면 자바스크립트를 실행하지 않는 일반 크롤러에서 페이지 정보를 제대로 수집해가지 못한다는 단점
    - SSR(Server Side Rendering) 배워서 해결 가능


* 13.2.2 라우터적용
    - 프로젝트에 리액트 라우터를 적용할 때는 index.js 파일에서 react-router-dom에 내장되어 있는 BrowserRouter라는 컴포넌트를 사용하여 감싸면 됩니다.
    ```javascript
    import React from 'react';
    import ReactDOM from 'react-dom';
    import './index.css';
    import App from './App';
    import { BrowserRouter } from 'react-router-dom';

    ReactDOM.render(
    <BrowserRouter>
        <App/>
    </BrowserRouter>,
    document.getElementById('root')
    );
    ```

* 13.2.4 Router컴포넌트로 특정 주소에 컴포넌스 연결
    - Router 컴포넌트 사용하여 사용자의 현재 경로에 따라 다른 컴포넌트를 보여 줄 수 있습니다.
    - 사용 방식
    ```javascript
    <Router path="주소규칙" component={보여 줄 컴포넌트}/>
    ```

* 13.2.5 Link컴포넌트 사용하여 다른주소 이동
    - Link 컴포넌트 클릭하면 다른 주소로 이동시켜 주는 컴포넌트 입니다.
    ``` javascript
    <Link to="주소">내용</Link>
    ```
    - 일반 웹에서는 a 태그를 사용하여 페이지전환, 리액트 라우터 사용시 a태그 직접 사용 x
    - a태그 사용시 페이지 전환과정에서 페이지를 새로 불러오기 때문에 애플리 케이션이 들고있던 상태를 모두 날려버림, 렌더링된 컴포넌트도 모두 사라지고 리랜더링 됨
    - Link컴포넌트 사용하면 페이지를 새로 불러오지 않고 애플리케이션은 그대로 유지한 상태에서 HTML5 historyAPI를 사용하여 페이지 주소만 변경해 줍니다. 


* 13.3 Route 하나에 여러개의 path 설정하기
    - 리액트 v5에 추가된 기능
    - Route를 여러번 사용하는 대신 path props를 배열로 설정하면 여러 경로에서 같은 컴포넌트를 보여 줄 수 있습니다.
    ```javascript
    <div>
        <Route path="/" component={Home} exact={true}/>
        <Route path={['/about', '/info']} component={About}/>
    </div>
    ```

* 13.4 URL 파라미터와 쿼리
    - 일반적으로 파라미터는 특정 아이디 혹은 이름을 사용하여 조회할 때 사용하고, 쿼리는 우리가 어떤 키워드를 검색하거나 페이지에 옵션을 전달할 때 사용합니다.
    - URL파라미터를 사용할 때는 라우트로 사용되는 컴포넌트에서 받아오는 match라는 객체 안의 params 값을 참조합니다. match객체 안에는 현재 컴포넌가 어떤 경로 규칙에 의해 보이는지에 대한 정보가 들어있습니다.

* 13.5 서브 라우트
    - 서브 라우트는 라우트 내부에 또 라우트를 정의하는 것을 의미합니다. 
    - 라우트로 사용되고 있는 컴포넌트의 내부 Route에 컴포넌트를 또 사용하면 됩니다.

* 13.6.1 history
    - history 객체는 라우트로 사용된 컴포넌트에 match, location과 함께 전달되는 props 중 하나로, 이개체를 통해 컴포넌트 내에 구현하는 메서드에서 라우터 API를 호출 할 수 있습니다.
    - 특정 버튼을 눌렀을 때 뒤로 가거나, 로그인 후 화면을 전환하거나, 다른 페이지로 이탈하는 것을 방지해야 할 때 history를 활용합니다.

* 13.6.2 withRouter
    - withRouter 함수는 HoC(Higher-oder Component)입니다. 라우트로 사용된 컴포넌트가 아니여도 match, location, history 객체를 접근할 수 있게 해 줍니다.
    - 사용법
    ```javascript
    export default withRouter(Profile);
    ```

* 13.6.3 Switch
    - Switch 컴포넌트는 여러 Route를 감싸서 그중 일치하는 단하나의 라우트만을 렌더링 시켜 줍니다.
    - Switch를 사용하면 모든 규칙과 일치하지 않을 때 보여줄 Not Found 페이지도 구현할 수 있습니다.

* 13.6.4 NavLink
    - NavLink는 Link와 비슷합니다. 현재 경로와 Link에서 사용하는 경로가 일치하는 경우 특정 스타일 혹은 CSS를 적용할 수 있는 컴포넌트 입니다.
    - NavLink에서 링크가 활성화되었을 때의 스타일을 적용할 때는 activeStyle 값을, CSS 클래스를 적용할 대는 activeClassName 값을 props로 넣어 주면 됩니다.
    